ka-button
  display: inline-block
  position: relative
  align-items: flex-start

  outline: none
  cursor: pointer

  margin: 1rem
  border: 0
  border-radius: 3px
  padding: 0
  height: 3rem
  overflow: hidden

  font-size: 1.4rem
  font-weight: bold
  line-height: 3rem
  text-align: center
  text-decoration: none
  
  box-shadow: 0 0 5px rgba(#000, 0.2), 0 5px 5px -5px rgba(#000, 0.2)
  transition: all 0.5s

  &:after
    content: " "
    position: absolute
    top: 0
    right: 0
    bottom: 0
    left: 0
    background-color: transparent
    transition: background-color 0.5s

  &.flat
    box-shadow: none !important
  &.active
    box-shadow: none
    transform: translateY(3px)

  &:not(.disabled)
    color: #fff
    background-color: var(--primary-color)
    &:hover
      color: #fff
      &:after
        background-color: rgba(#fff, 0.2)
  &:not(.disabled).accent
    color: #fff
    background-color: var(--accent-color)
    &:hover
      color: #fff
      &:after
        background-color: rgba(#fff, 0.2)
    .busy
      background-color: var(--accent-color)
      &:before, &:after
        background-color: #fff
  &:not(.disabled).secondary
    color: #fff
    background-color: var(--secondary-color)
    &:hover
      color: #fff
      &:after
        background-color: rgba(#fff, 0.2)
    .busy
      background-color: var(--secondary-color)
      &:before, &:after
        background-color: #fff
  &:not(.disabled).inverted
    color: var(--primary-color)
    background-color: #ffffff
    &:hover
      color: var(--primary-color)
      &:after
        background-color: rgba(#000, 0.1)
    .busy
      background-color: #fff
      &:before, &:after
        background-color: var(--primary-color)
  &:not(.disabled).inverted.accent
    color: var(--accent-color)
    background-color: #ffffff
    &:hover
      color: var(--accent-color)
      &:after
        background-color: rgba(#000, 0.1)
    .busy
      background-color: #fff
      &:before, &:after
        background-color: var(--accent-color)
  &:not(.disabled).inverted.secondary
    color: var(--secondary-color)
    background-color: #ffffff
    &:hover
      color: var(--secondary-color)
      &:after
        background-color: rgba(#000, 0.1)
    .busy
      background-color: #fff
      &:before, &:after
        background-color: var(--secondary-color)

  &.disabled
    color: #fff
    background-color: #c0c0c0
  
  .ka-button-icon
    width: 3rem
    line-height: inherit
    vertical-align: middle
  .ka-button-icon + .ka-button-label
    margin-left: -0.5rem
    padding-left: 0
  .ka-button-label
    padding: 0 1rem
    &:empty
      display: none
  
  .busy
    position: absolute
    top: 0
    right: 0
    bottom: 0
    left: 0
    background-color: var(--primary-color)
    &:before, &:after
      content: ''
      position: absolute
      border-radius: 50%
      width: 1rem
      height: 1rem
      top: 50%
      background-color: #fff
      transform: translate(-50%, -50%)
      will-change: left, transform
    &:after
      animation: left-to-right 0.5s linear infinite
    &:before
      animation: right-to-left 0.5s linear infinite
    

@keyframes left-to-right
  0%
    opacity: 0.5
    left: calc(50% - 1rem)
    transform: translate(-50%, -50%) scale(1)
  50%
    opacity: 1
    left: 50%
    transform: translate(-50%, -50%) scale(1.5)
  100%
    opacity: 0.5
    left: calc(50% + 1rem)
    transform: translate(-50%, -50%) scale(1)

@keyframes right-to-left
  0%
    opacity: 0.5
    left: calc(50% + 1rem)
    transform: translate(-50%, -50%) scale(1)
  50%
    opacity: 0
    left: 50%
    transform: translate(-50%, -50%) scale(0.5)
  100%
    opacity: 0.5
    left: calc(50% - 1rem)
    transform: translate(-50%, -50%) scale(1)
    