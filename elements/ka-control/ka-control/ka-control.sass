@use "sass:color"

ka-control-combo,
ka-control-text,
ka-control-date,
ka-control-file,
ka-control-number,
ka-control-password,
ka-control-textarea,
ka-control-editor,
ka-control-list,
ka-control-check
  display: block
  position: relative
  flex: 1 1 0
  input
    outline: none
    appearance: none
    -moz-appearance: none
    -webkit-appearance: none
  .display-value, .display-value[disabled]
    outline: none
    border: 0
    border-radius: 0
    padding: 0 0 0 0.7rem
    width: 100%
    height: 3rem
    font-family: inherit
    font-size: 1.4rem
    line-height: 3rem
    color: $text-color
    background: linear-gradient(0deg, rgba(255,255,255,1) 50%, rgba(255,255,255,0) 100%)
    box-shadow: inset 0 -1px 0 0 rgba($text-color, 0.3)
    transition: all 0.5s
    &:hover
      box-shadow: inset 0 -1px 0 0 rgba($text-color, 0.5)
    &:focus, &:focus:hover
      box-shadow: inset 0 -1px 0 0 rgba($primary-color, 1)
    &.readonly, &.readonly:focus, &.readonly:hover
      padding: 0 0 0 0.1px
      background: transparent
      box-shadow: inset 0 -1px 0 0 rgba($text-color, 0.1)
  
ka-control
  display: inline-block
  position: relative
  margin: 0.5rem 0
  width: 100%

  display: flex
  flex-wrap: wrap

  > label
    display: block
    flex: 0 0 100%
    margin: 0
    padding: 0
    width: 100%
    height: 1.5rem
    overflow: hidden
    font-size: 1.2rem
    line-height: 1.5rem
    color: rgba($primary-color, 0.7)
    white-space: nowrap
    transition: all 0.5s
  &.show-label-overflow > label
    overflow: visible
  &.no-label > label
    display: none

  > .ka-control-buttons
    display: flex
    button, button:focus
      -webkit-appearance: none
      -moz-appearance: none
      display: block
      margin: 0
      outline: 0
      border: 0
      border-left: 1px solid #e0e0e0
      border-radius: 0
      padding: 0
      width: 3rem
      height: 3rem
      font-size: 1.4rem
      line-height: 3rem
      text-align: center
      background: linear-gradient(0deg, rgba(255,255,255,1) 50%, rgba(255,255,255,0) 100%)
      box-shadow: inset 0 -1px 0 0 rgba($text-color, 0.3)
      transition: all 0.5s
      .material-icons, i[class*="fa"]
        font-size: inherit
        line-height: inherit
        color: inherit
      &:hover
        box-shadow: inset 0 -1px 0 0 rgba($text-color, 0.5)
        color: $primary-color
      &:focus, &:focus:hover
        box-shadow: inset 0 -1px 0 0 rgba($primary-color, 1)
    .button-dropdown
      border-left: 0

  &.error > label
    color: red
  &.error .display-value
    background-color: #ffffff
    box-shadow: inset 0 -1px 0 0 red
  
  > .ka-control-overlay
    width: 100%
    .ka-control-error
      display: block
      position: absolute
      z-index: 100
      border-bottom-left-radius: 3px
      border-bottom-right-radius: 3px
      padding: 0 0.5rem
      width: 100%
      height: 2rem
      overflow: hidden
      font-size: 1.1rem
      line-height: 2rem
      color: red
      text-overflow: ellipsis
      white-space: nowrap
      background-color: lighten(red, 48%)
      box-shadow: 0 5px 10px -5px rgba(0,0,0, 0.2)
      animation: 0.5s ka-control-slidedown
      &:hover
        min-width: 100%
        width: auto
      span
        &::after
          content: " - "
        &:last-of-type::after
          content: ""

    .ka-control-description
      display: none
      position: absolute
      z-index: 100
      border-bottom-left-radius: 3px
      border-bottom-right-radius: 3px
      padding: 0 0.5rem
      width: 100%
      height: 2rem
      overflow: hidden
      font-size: 1.1rem
      line-height: 2rem
      color: $primary-color
      text-overflow: ellipsis
      background-color: #ffffff
      box-shadow: 0 5px 10px -5px rgba(0,0,0, 0.2)
      animation: 0.2s ka-control-slidedown
      &:before
        content: " "
        position: absolute
        inset: 0 0 0 0
        background-color: rgba($primary-color, 0.2)
        z-index: -1
  &:hover > .ka-control-overlay .ka-control-description
    display: block

ka-control-backdrop
  display: block
  position: fixed
  top: 0
  right: 0
  width: 100%
  height: 100%
  z-index: 1999

@keyframes ka-control-slidedown
  from
    opacity: 0
    height: 0
  to
    opacity: 1
    height: 2rem
